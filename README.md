# Impulse-JIT

Impulse — учебно-практический язык и рантайм с амбициями C++ по возможностям и простотой Go/Kotlin. Проект развиваем как полнофункциональный тулчейн с JIT, GC и своей VM без зависимости от LLVM.

## Видение и ценности

- **Статическая типизация без боли**: базовые примитивы, простые структуры, интерфейсы и generics уровня "достаточно", без тяжёлого ООП.
- **Безопасная память out-of-the-box**: дефолтный GC, отсутствие сырых указателей, ошибки по памяти ловим ранее.
- **Продуктивность разработчика**: модульная система, внятная диагностика, CLI-first workflow под Linux.
- **Контроль над исполнением**: собственный SSA IR, оптимизирующий JIT, возможность довести производительность до "пятёрочного" уровня (factorial/sort/primes).

## Структура тулчейна
# Impulse-JIT

Минимальный учебный компилятор и рантайм: C++ парсер/IR + мини-VM, Go CLI для флага `impulsec`. Остальное держим в коде — без огромных манифестов.

## Быстрый старт

```bash
cmake -S . -B build
cmake --build build --target impulse-runtime impulse-frontend impulse-tests
cd cli && go build ./...
```

`./cli/impulsec --file path/to/module.imp` запустит CLI; C++ драйвер собирается `cmake --build build --target impulse-cpp`.

## Режимы CLI

| Флаг | Назначение |
| --- | --- |
| `--emit-ir` | печать SSA IR (binding'и, функции, комментарии с константами) |
| `--check` | синтаксис + минимальная семантика (дубликаты, const правила) |
| `--evaluate` / `--eval-binding foo` | интерпретация константных binding'ов стековым интерпретатором |
| `--run` / `--entry-binding foo` | сначала пытается выполнить одноимённую функцию через runtime VM (поддержка `return <expr>`), затем падает назад на константный binding |

## Состояние

- парсер понимает module/import/let|const|var/func/struct/interface + `export`;
- выражения: арифметика + булевы литералы/сравнения (`true|false`, `== != < <= > >=`);
- lowering → SSA IR + текст с комментарием `# = value` для констант;
- binding интерпретатор + `runtime::Vm` для простых функций;
- Go и C++ CLI используют один и тот же C API.

## Тесты

```bash
cmake --build build --target impulse-tests && cd build && ctest
cd ../cli && go test ./...
```

Этого достаточно, чтобы держать проект компактным. Остальные подробности можно восстановить из истории git при необходимости.

