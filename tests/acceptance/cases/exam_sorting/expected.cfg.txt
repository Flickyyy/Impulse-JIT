Function swap
CFG
  Block entry (#0..18)
    Instructions
      reference arr
      reference i
      array_get
      store temp
      reference arr
      reference i
      reference arr
      reference j
      array_get
      array_set
      drop
      reference arr
      reference j
      reference temp
      array_set
      drop
      literal 0
      return

Function partition
CFG
  Block entry (#0..10)
    Successors 1
    Instructions
      reference arr
      reference high
      array_get
      store pivot
      reference low
      literal 1
      binary -
      store i
      reference low
      store j
  Block L0 (#10..15)
    Successors 5 2
    Predecessors 0 4
    Instructions
      L0:
      reference j
      reference high
      binary <
      branch_if L1 when 0
  Block block2 (#15..21)
    Successors 4 3
    Predecessors 1
    Instructions
      reference arr
      reference j
      array_get
      reference pivot
      binary <=
      branch_if L2 when 0
  Block block3 (#21..30)
    Successors 4
    Predecessors 2
    Instructions
      reference i
      literal 1
      binary +
      store i
      reference arr
      reference i
      reference j
      call swap (3 args)
      drop
  Block L2 (#30..36)
    Successors 1
    Predecessors 2 3
    Instructions
      L2:
      reference j
      literal 1
      binary +
      store j
      branch L0
  Block L1 (#36..48)
    Predecessors 1
    Instructions
      L1:
      reference i
      literal 1
      binary +
      store i
      reference arr
      reference i
      reference high
      call swap (3 args)
      drop
      reference i
      return

Function quicksort
CFG
  Block entry (#0..4)
    Successors 2 1
    Instructions
      reference low
      reference high
      binary <
      branch_if L4 when 0
  Block block1 (#4..23)
    Successors 2
    Predecessors 0
    Instructions
      reference arr
      reference low
      reference high
      call partition (3 args)
      store pi
      reference arr
      reference low
      reference pi
      literal 1
      binary -
      call quicksort (3 args)
      drop
      reference arr
      reference pi
      literal 1
      binary +
      reference high
      call quicksort (3 args)
      drop
  Block L4 (#23..26)
    Predecessors 0 1
    Instructions
      L4:
      literal 0
      return

Function is_sorted
CFG
  Block entry (#0..5)
    Successors 1
    Instructions
      reference arr
      array_length
      store n
      literal 0
      store i
  Block L6 (#5..12)
    Successors 5 2
    Predecessors 0 4
    Instructions
      L6:
      reference i
      reference n
      literal 1
      binary -
      binary <
      branch_if L7 when 0
  Block block2 (#12..22)
    Successors 4 3
    Predecessors 1
    Instructions
      reference arr
      reference i
      array_get
      reference arr
      reference i
      literal 1
      binary +
      array_get
      binary >
      branch_if L8 when 0
  Block block3 (#22..24)
    Predecessors 2
    Instructions
      literal 0
      return
  Block L8 (#24..30)
    Successors 1
    Predecessors 2
    Instructions
      L8:
      reference i
      literal 1
      binary +
      store i
      branch L6
  Block L7 (#30..33)
    Predecessors 1
    Instructions
      L7:
      literal 1
      return

Function main
CFG
  Block entry (#0..5)
    Successors 1
    Instructions
      literal 20
      make_array
      store arr
      literal 0
      store i
  Block L10 (#5..10)
    Successors 3 2
    Predecessors 0 2
    Instructions
      L10:
      reference i
      literal 20
      binary <
      branch_if L11 when 0
  Block block2 (#10..22)
    Successors 1
    Predecessors 1
    Instructions
      reference arr
      reference i
      literal 20
      reference i
      binary -
      array_set
      drop
      reference i
      literal 1
      binary +
      store i
      branch L10
  Block L11 (#22..51)
    Successors 5 4
    Predecessors 1
    Instructions
      L11:
      literal_string "Before sorting:"
      call println (1 args)
      drop
      reference arr
      literal_string ", "
      call array_join (2 args)
      call println (1 args)
      drop
      reference arr
      literal 0
      literal 19
      call quicksort (3 args)
      drop
      literal_string "After sorting:"
      call println (1 args)
      drop
      reference arr
      literal_string ", "
      call array_join (2 args)
      call println (1 args)
      drop
      reference arr
      call is_sorted (1 args)
      store sorted
      reference sorted
      literal 1
      binary ==
      branch_if L12 when 0
  Block block4 (#51..55)
    Successors 6
    Predecessors 3
    Instructions
      literal_string "Array is correctly sorted!"
      call println (1 args)
      drop
      branch L13
  Block L12 (#55..59)
    Successors 6
    Predecessors 3
    Instructions
      L12:
      literal_string "ERROR: Array is not sorted!"
      call println (1 args)
      drop
  Block L13 (#59..62)
    Predecessors 4 5
    Instructions
      L13:
      reference sorted
      return

